<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>JobManagerOptions.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Flink : Core</a> &gt; <a href="index.source.html" class="el_package">org.apache.flink.configuration</a> &gt; <span class="el_source">JobManagerOptions.java</span></div><h1>JobManagerOptions.java</h1><pre class="source lang-java linenums">/*
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * &quot;License&quot;); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package org.apache.flink.configuration;

import org.apache.flink.annotation.PublicEvolving;
import org.apache.flink.annotation.docs.Documentation;
import org.apache.flink.configuration.description.Description;

import java.time.Duration;

import static org.apache.flink.configuration.ConfigOptions.key;
import static org.apache.flink.configuration.description.LinkElement.link;
import static org.apache.flink.configuration.description.TextElement.code;
import static org.apache.flink.configuration.description.TextElement.text;

/** Configuration options for the JobManager. */
@PublicEvolving
public class JobManagerOptions {

<span class="fc" id="L36">    public static final MemorySize MIN_JVM_HEAP_SIZE = MemorySize.ofMebiBytes(128);</span>

    /**
     * The config parameter defining the network address to connect to for communication with the
     * job manager.
     *
     * &lt;p&gt;This value is only interpreted in setups where a single JobManager with static name or
     * address exists (simple standalone setups, or container setups with dynamic service name
     * resolution). It is not used in many high-availability setups, when a leader-election service
     * (like ZooKeeper) is used to elect and discover the JobManager leader from potentially
     * multiple standby JobManagers.
     */
    @Documentation.Section({
        Documentation.Sections.COMMON_HOST_PORT,
        Documentation.Sections.ALL_JOB_MANAGER
    })
<span class="fc" id="L52">    public static final ConfigOption&lt;String&gt; ADDRESS =</span>
<span class="fc" id="L53">            key(&quot;jobmanager.rpc.address&quot;)</span>
<span class="fc" id="L54">                    .noDefaultValue()</span>
<span class="fc" id="L55">                    .withDescription(</span>
                            &quot;The config parameter defining the network address to connect to&quot;
                                    + &quot; for communication with the job manager.&quot;
                                    + &quot; This value is only interpreted in setups where a single JobManager with static&quot;
                                    + &quot; name or address exists (simple standalone setups, or container setups with dynamic&quot;
                                    + &quot; service name resolution). It is not used in many high-availability setups, when a&quot;
                                    + &quot; leader-election service (like ZooKeeper) is used to elect and discover the JobManager&quot;
                                    + &quot; leader from potentially multiple standby JobManagers.&quot;);

    /** The local address of the network interface that the job manager binds to. */
<span class="fc" id="L65">    public static final ConfigOption&lt;String&gt; BIND_HOST =</span>
<span class="fc" id="L66">            key(&quot;jobmanager.bind-host&quot;)</span>
<span class="fc" id="L67">                    .stringType()</span>
<span class="fc" id="L68">                    .noDefaultValue()</span>
<span class="fc" id="L69">                    .withDescription(</span>
                            &quot;The local address of the network interface that the job manager binds to. If not&quot;
                                    + &quot; configured, '0.0.0.0' will be used.&quot;);

    /**
     * The config parameter defining the network port to connect to for communication with the job
     * manager.
     *
     * &lt;p&gt;Like {@link JobManagerOptions#ADDRESS}, this value is only interpreted in setups where a
     * single JobManager with static name/address and port exists (simple standalone setups, or
     * container setups with dynamic service name resolution). This config option is not used in
     * many high-availability setups, when a leader-election service (like ZooKeeper) is used to
     * elect and discover the JobManager leader from potentially multiple standby JobManagers.
     */
    @Documentation.Section({
        Documentation.Sections.COMMON_HOST_PORT,
        Documentation.Sections.ALL_JOB_MANAGER
    })
<span class="fc" id="L87">    public static final ConfigOption&lt;Integer&gt; PORT =</span>
<span class="fc" id="L88">            key(&quot;jobmanager.rpc.port&quot;)</span>
<span class="fc" id="L89">                    .defaultValue(6123)</span>
<span class="fc" id="L90">                    .withDescription(</span>
                            &quot;The config parameter defining the network port to connect to&quot;
                                    + &quot; for communication with the job manager.&quot;
                                    + &quot; Like &quot;
<span class="fc" id="L94">                                    + ADDRESS.key()</span>
                                    + &quot;, this value is only interpreted in setups where&quot;
                                    + &quot; a single JobManager with static name/address and port exists (simple standalone setups,&quot;
                                    + &quot; or container setups with dynamic service name resolution).&quot;
                                    + &quot; This config option is not used in many high-availability setups, when a&quot;
                                    + &quot; leader-election service (like ZooKeeper) is used to elect and discover the JobManager&quot;
                                    + &quot; leader from potentially multiple standby JobManagers.&quot;);

    /** The local port that the job manager binds to. */
<span class="fc" id="L103">    public static final ConfigOption&lt;Integer&gt; RPC_BIND_PORT =</span>
<span class="fc" id="L104">            key(&quot;jobmanager.rpc.bind-port&quot;)</span>
<span class="fc" id="L105">                    .intType()</span>
<span class="fc" id="L106">                    .noDefaultValue()</span>
<span class="fc" id="L107">                    .withDescription(</span>
                            &quot;The local RPC port that the JobManager binds to. If not configured, the external port&quot;
                                    + &quot; (configured by '&quot;
<span class="fc" id="L110">                                    + PORT.key()</span>
                                    + &quot;') will be used.&quot;);

    /**
     * JVM heap size for the JobManager with memory size.
     *
     * @deprecated use {@link #TOTAL_FLINK_MEMORY} for standalone setups and {@link
     *     #TOTAL_PROCESS_MEMORY} for containerized setups.
     */
    @Deprecated
    @Documentation.Section(Documentation.Sections.ALL_JOB_MANAGER)
<span class="fc" id="L121">    public static final ConfigOption&lt;MemorySize&gt; JOB_MANAGER_HEAP_MEMORY =</span>
<span class="fc" id="L122">            key(&quot;jobmanager.heap.size&quot;)</span>
<span class="fc" id="L123">                    .memoryType()</span>
<span class="fc" id="L124">                    .noDefaultValue()</span>
<span class="fc" id="L125">                    .withDescription(&quot;JVM heap size for the JobManager.&quot;);</span>

    /**
     * JVM heap size (in megabytes) for the JobManager.
     *
     * @deprecated use {@link #TOTAL_FLINK_MEMORY} for standalone setups and {@link
     *     #TOTAL_PROCESS_MEMORY} for containerized setups.
     */
    @Deprecated
<span class="fc" id="L134">    public static final ConfigOption&lt;Integer&gt; JOB_MANAGER_HEAP_MEMORY_MB =</span>
<span class="fc" id="L135">            key(&quot;jobmanager.heap.mb&quot;)</span>
<span class="fc" id="L136">                    .intType()</span>
<span class="fc" id="L137">                    .noDefaultValue()</span>
<span class="fc" id="L138">                    .withDescription(&quot;JVM heap size (in megabytes) for the JobManager.&quot;);</span>

    /** Total Process Memory size for the JobManager. */
    @Documentation.Section(Documentation.Sections.COMMON_MEMORY)
<span class="fc" id="L142">    public static final ConfigOption&lt;MemorySize&gt; TOTAL_PROCESS_MEMORY =</span>
<span class="fc" id="L143">            key(&quot;jobmanager.memory.process.size&quot;)</span>
<span class="fc" id="L144">                    .memoryType()</span>
<span class="fc" id="L145">                    .noDefaultValue()</span>
<span class="fc" id="L146">                    .withDescription(</span>
                            &quot;Total Process Memory size for the JobManager. This includes all the memory that a &quot;
                                    + &quot;JobManager JVM process consumes, consisting of Total Flink Memory, JVM Metaspace, and JVM Overhead. &quot;
                                    + &quot;In containerized setups, this should be set to the container memory. See also &quot;
                                    + &quot;'jobmanager.memory.flink.size' for Total Flink Memory size configuration.&quot;);

    /** Total Flink Memory size for the JobManager. */
    @Documentation.Section(Documentation.Sections.COMMON_MEMORY)
<span class="fc" id="L154">    public static final ConfigOption&lt;MemorySize&gt; TOTAL_FLINK_MEMORY =</span>
<span class="fc" id="L155">            key(&quot;jobmanager.memory.flink.size&quot;)</span>
<span class="fc" id="L156">                    .memoryType()</span>
<span class="fc" id="L157">                    .noDefaultValue()</span>
<span class="fc" id="L158">                    .withDescription(</span>
<span class="fc" id="L159">                            String.format(</span>
                                    &quot;Total Flink Memory size for the JobManager. This includes all the &quot;
                                            + &quot;memory that a JobManager consumes, except for JVM Metaspace and JVM Overhead. It consists of &quot;
                                            + &quot;JVM Heap Memory and Off-heap Memory. See also '%s' for total process memory size configuration.&quot;,
<span class="fc" id="L163">                                    TOTAL_PROCESS_MEMORY.key()));</span>

    /** JVM Heap Memory size for the JobManager. */
    @Documentation.Section(Documentation.Sections.COMMON_MEMORY)
<span class="fc" id="L167">    public static final ConfigOption&lt;MemorySize&gt; JVM_HEAP_MEMORY =</span>
<span class="fc" id="L168">            key(&quot;jobmanager.memory.heap.size&quot;)</span>
<span class="fc" id="L169">                    .memoryType()</span>
<span class="fc" id="L170">                    .noDefaultValue()</span>
<span class="fc" id="L171">                    .withDescription(</span>
                            &quot;JVM Heap Memory size for JobManager. The minimum recommended JVM Heap size is &quot;
<span class="fc" id="L173">                                    + MIN_JVM_HEAP_SIZE.toHumanReadableString()</span>
                                    + '.');

    /** Off-heap Memory size for the JobManager. */
    @Documentation.Section(Documentation.Sections.COMMON_MEMORY)
<span class="fc" id="L178">    public static final ConfigOption&lt;MemorySize&gt; OFF_HEAP_MEMORY =</span>
<span class="fc" id="L179">            key(&quot;jobmanager.memory.off-heap.size&quot;)</span>
<span class="fc" id="L180">                    .memoryType()</span>
<span class="fc" id="L181">                    .defaultValue(MemorySize.ofMebiBytes(128))</span>
<span class="fc" id="L182">                    .withDescription(</span>
<span class="fc" id="L183">                            Description.builder()</span>
<span class="fc" id="L184">                                    .text(</span>
                                            &quot;Off-heap Memory size for JobManager. This option covers all off-heap memory usage including &quot;
                                                    + &quot;direct and native memory allocation. The JVM direct memory limit of the JobManager process &quot;
                                                    + &quot;(-XX:MaxDirectMemorySize) will be set to this value if the limit is enabled by &quot;
                                                    + &quot;'jobmanager.memory.enable-jvm-direct-memory-limit'. &quot;)
<span class="fc" id="L189">                                    .build());</span>

    /** Off-heap Memory size for the JobManager. */
    @Documentation.Section(Documentation.Sections.COMMON_MEMORY)
<span class="fc" id="L193">    public static final ConfigOption&lt;Boolean&gt; JVM_DIRECT_MEMORY_LIMIT_ENABLED =</span>
<span class="fc" id="L194">            key(&quot;jobmanager.memory.enable-jvm-direct-memory-limit&quot;)</span>
<span class="fc" id="L195">                    .booleanType()</span>
<span class="fc" id="L196">                    .defaultValue(false)</span>
<span class="fc" id="L197">                    .withDescription(</span>
<span class="fc" id="L198">                            Description.builder()</span>
<span class="fc" id="L199">                                    .text(</span>
                                            &quot;Whether to enable the JVM direct memory limit of the JobManager process &quot;
                                                    + &quot;(-XX:MaxDirectMemorySize). The limit will be set to the value of '%s' option. &quot;,
<span class="fc" id="L202">                                            text(OFF_HEAP_MEMORY.key()))</span>
<span class="fc" id="L203">                                    .build());</span>

    /** JVM Metaspace Size for the JobManager. */
    @Documentation.Section(Documentation.Sections.COMMON_MEMORY)
<span class="fc" id="L207">    public static final ConfigOption&lt;MemorySize&gt; JVM_METASPACE =</span>
<span class="fc" id="L208">            key(&quot;jobmanager.memory.jvm-metaspace.size&quot;)</span>
<span class="fc" id="L209">                    .memoryType()</span>
<span class="fc" id="L210">                    .defaultValue(MemorySize.ofMebiBytes(256))</span>
<span class="fc" id="L211">                    .withDescription(&quot;JVM Metaspace Size for the JobManager.&quot;);</span>

    private static final String JVM_OVERHEAD_DESCRIPTION =
            &quot;This is off-heap memory reserved for JVM &quot;
                    + &quot;overhead, such as thread stack space, compile cache, etc. This includes native memory but not direct &quot;
                    + &quot;memory, and will not be counted when Flink calculates JVM max direct memory size parameter. The size &quot;
                    + &quot;of JVM Overhead is derived to make up the configured fraction of the Total Process Memory. If the &quot;
                    + &quot;derived size is less or greater than the configured min or max size, the min or max size will be used. The &quot;
                    + &quot;exact size of JVM Overhead can be explicitly specified by setting the min and max size to the same value.&quot;;

    /** Min JVM Overhead size for the JobManager. */
    @Documentation.Section(Documentation.Sections.COMMON_MEMORY)
<span class="fc" id="L223">    public static final ConfigOption&lt;MemorySize&gt; JVM_OVERHEAD_MIN =</span>
<span class="fc" id="L224">            key(&quot;jobmanager.memory.jvm-overhead.min&quot;)</span>
<span class="fc" id="L225">                    .memoryType()</span>
<span class="fc" id="L226">                    .defaultValue(MemorySize.ofMebiBytes(192))</span>
<span class="fc" id="L227">                    .withDescription(</span>
                            &quot;Min JVM Overhead size for the JobManager. &quot;
                                    + JVM_OVERHEAD_DESCRIPTION);

    /** Max JVM Overhead size for the TaskExecutors. */
    @Documentation.Section(Documentation.Sections.COMMON_MEMORY)
<span class="fc" id="L233">    public static final ConfigOption&lt;MemorySize&gt; JVM_OVERHEAD_MAX =</span>
<span class="fc" id="L234">            key(&quot;jobmanager.memory.jvm-overhead.max&quot;)</span>
<span class="fc" id="L235">                    .memoryType()</span>
<span class="fc" id="L236">                    .defaultValue(MemorySize.parse(&quot;1g&quot;))</span>
<span class="fc" id="L237">                    .withDescription(</span>
                            &quot;Max JVM Overhead size for the JobManager. &quot;
                                    + JVM_OVERHEAD_DESCRIPTION);

    /** Fraction of Total Process Memory to be reserved for JVM Overhead. */
    @Documentation.Section(Documentation.Sections.COMMON_MEMORY)
<span class="fc" id="L243">    public static final ConfigOption&lt;Float&gt; JVM_OVERHEAD_FRACTION =</span>
<span class="fc" id="L244">            key(&quot;jobmanager.memory.jvm-overhead.fraction&quot;)</span>
<span class="fc" id="L245">                    .floatType()</span>
<span class="fc" id="L246">                    .defaultValue(0.1f)</span>
<span class="fc" id="L247">                    .withDescription(</span>
                            &quot;Fraction of Total Process Memory to be reserved for JVM Overhead. &quot;
                                    + JVM_OVERHEAD_DESCRIPTION);

    /** The maximum number of prior execution attempts kept in history. */
    @Documentation.Section(Documentation.Sections.ALL_JOB_MANAGER)
<span class="fc" id="L253">    public static final ConfigOption&lt;Integer&gt; MAX_ATTEMPTS_HISTORY_SIZE =</span>
<span class="fc" id="L254">            key(&quot;jobmanager.execution.attempts-history-size&quot;)</span>
<span class="fc" id="L255">                    .defaultValue(16)</span>
<span class="fc" id="L256">                    .withDeprecatedKeys(&quot;job-manager.max-attempts-history-size&quot;)</span>
<span class="fc" id="L257">                    .withDescription(</span>
                            &quot;The maximum number of prior execution attempts kept in history.&quot;);

    /**
     * This option specifies the failover strategy, i.e. how the job computation recovers from task
     * failures.
     */
    @Documentation.Section({
        Documentation.Sections.ALL_JOB_MANAGER,
        Documentation.Sections.EXPERT_FAULT_TOLERANCE
    })
<span class="fc" id="L268">    public static final ConfigOption&lt;String&gt; EXECUTION_FAILOVER_STRATEGY =</span>
<span class="fc" id="L269">            key(&quot;jobmanager.execution.failover-strategy&quot;)</span>
<span class="fc" id="L270">                    .stringType()</span>
<span class="fc" id="L271">                    .defaultValue(&quot;region&quot;)</span>
<span class="fc" id="L272">                    .withDescription(</span>
<span class="fc" id="L273">                            Description.builder()</span>
<span class="fc" id="L274">                                    .text(</span>
                                            &quot;This option specifies how the job computation recovers from task failures. &quot;
                                                    + &quot;Accepted values are:&quot;)
<span class="fc" id="L277">                                    .list(</span>
<span class="fc" id="L278">                                            text(&quot;'full': Restarts all tasks to recover the job.&quot;),</span>
<span class="fc" id="L279">                                            text(</span>
                                                    &quot;'region': Restarts all tasks that could be affected by the task failure. &quot;
                                                            + &quot;More details can be found %s.&quot;,
<span class="fc" id="L282">                                                    link(</span>
                                                            &quot;../dev/task_failure_recovery.html#restart-pipelined-region-failover-strategy&quot;,
                                                            &quot;here&quot;)))
<span class="fc" id="L285">                                    .build());</span>

    /** The location where the JobManager stores the archives of completed jobs. */
    @Documentation.Section(Documentation.Sections.ALL_JOB_MANAGER)
<span class="fc" id="L289">    public static final ConfigOption&lt;String&gt; ARCHIVE_DIR =</span>
<span class="fc" id="L290">            key(&quot;jobmanager.archive.fs.dir&quot;)</span>
<span class="fc" id="L291">                    .noDefaultValue()</span>
<span class="fc" id="L292">                    .withDescription(</span>
                            &quot;Dictionary for JobManager to store the archives of completed jobs.&quot;);

    /** The job store cache size in bytes which is used to keep completed jobs in memory. */
    @Documentation.Section(Documentation.Sections.ALL_JOB_MANAGER)
<span class="fc" id="L297">    public static final ConfigOption&lt;Long&gt; JOB_STORE_CACHE_SIZE =</span>
<span class="fc" id="L298">            key(&quot;jobstore.cache-size&quot;)</span>
<span class="fc" id="L299">                    .defaultValue(50L * 1024L * 1024L)</span>
<span class="fc" id="L300">                    .withDescription(</span>
                            &quot;The job store cache size in bytes which is used to keep completed jobs in memory.&quot;);

    /** The time in seconds after which a completed job expires and is purged from the job store. */
    @Documentation.Section(Documentation.Sections.ALL_JOB_MANAGER)
<span class="fc" id="L305">    public static final ConfigOption&lt;Long&gt; JOB_STORE_EXPIRATION_TIME =</span>
<span class="fc" id="L306">            key(&quot;jobstore.expiration-time&quot;)</span>
<span class="fc" id="L307">                    .defaultValue(60L * 60L)</span>
<span class="fc" id="L308">                    .withDescription(</span>
                            &quot;The time in seconds after which a completed job expires and is purged from the job store.&quot;);

    /** The max number of completed jobs that can be kept in the job store. */
    @Documentation.Section(Documentation.Sections.ALL_JOB_MANAGER)
<span class="fc" id="L313">    public static final ConfigOption&lt;Integer&gt; JOB_STORE_MAX_CAPACITY =</span>
<span class="fc" id="L314">            key(&quot;jobstore.max-capacity&quot;)</span>
<span class="fc" id="L315">                    .defaultValue(Integer.MAX_VALUE)</span>
<span class="fc" id="L316">                    .withDescription(</span>
                            &quot;The max number of completed jobs that can be kept in the job store.&quot;);

    /**
     * Flag indicating whether JobManager would retrieve canonical host name of TaskManager during
     * registration.
     */
    @Documentation.Section(Documentation.Sections.ALL_JOB_MANAGER)
<span class="fc" id="L324">    public static final ConfigOption&lt;Boolean&gt; RETRIEVE_TASK_MANAGER_HOSTNAME =</span>
<span class="fc" id="L325">            key(&quot;jobmanager.retrieve-taskmanager-hostname&quot;)</span>
<span class="fc" id="L326">                    .defaultValue(true)</span>
<span class="fc" id="L327">                    .withDescription(</span>
                            &quot;Flag indicating whether JobManager would retrieve canonical &quot;
                                    + &quot;host name of TaskManager during registration. &quot;
                                    + &quot;If the option is set to \&quot;false\&quot;, TaskManager registration with &quot;
                                    + &quot;JobManager could be faster, since no reverse DNS lookup is performed. &quot;
                                    + &quot;However, local input split assignment (such as for HDFS files) may be impacted.&quot;);

    /** The timeout in milliseconds for requesting a slot from Slot Pool. */
    @Documentation.Section(Documentation.Sections.EXPERT_SCHEDULING)
<span class="fc" id="L336">    public static final ConfigOption&lt;Long&gt; SLOT_REQUEST_TIMEOUT =</span>
<span class="fc" id="L337">            key(&quot;slot.request.timeout&quot;)</span>
<span class="fc" id="L338">                    .defaultValue(5L * 60L * 1000L)</span>
<span class="fc" id="L339">                    .withDescription(</span>
                            &quot;The timeout in milliseconds for requesting a slot from Slot Pool.&quot;);

    /** The timeout in milliseconds for a idle slot in Slot Pool. */
    @Documentation.Section(Documentation.Sections.EXPERT_SCHEDULING)
<span class="fc" id="L344">    public static final ConfigOption&lt;Long&gt; SLOT_IDLE_TIMEOUT =</span>
<span class="fc" id="L345">            key(&quot;slot.idle.timeout&quot;)</span>
                    // default matches heartbeat.timeout so that sticky allocation is not lost on
                    // timeouts for local recovery
<span class="fc" id="L348">                    .defaultValue(HeartbeatManagerOptions.HEARTBEAT_TIMEOUT.defaultValue())</span>
<span class="fc" id="L349">                    .withDescription(&quot;The timeout in milliseconds for a idle slot in Slot Pool.&quot;);</span>

    /** Config parameter determining the scheduler implementation. */
    @Documentation.ExcludeFromDocumentation(&quot;SchedulerNG is still in development.&quot;)
<span class="fc" id="L353">    public static final ConfigOption&lt;SchedulerType&gt; SCHEDULER =</span>
<span class="fc" id="L354">            key(&quot;jobmanager.scheduler&quot;)</span>
<span class="fc" id="L355">                    .enumType(SchedulerType.class)</span>
<span class="fc" id="L356">                    .defaultValue(SchedulerType.Ng)</span>
<span class="fc" id="L357">                    .withDescription(</span>
<span class="fc" id="L358">                            Description.builder()</span>
<span class="fc" id="L359">                                    .text(</span>
                                            &quot;Determines which scheduler implementation is used to schedule tasks. Accepted values are:&quot;)
<span class="fc" id="L361">                                    .list(</span>
<span class="fc" id="L362">                                            text(&quot;'Ng': new generation scheduler&quot;),</span>
<span class="fc" id="L363">                                            text(</span>
                                                    &quot;'Adaptive': adaptive scheduler; supports reactive mode&quot;))
<span class="fc" id="L365">                                    .build());</span>

    /** Type of scheduler implementation. */
<span class="fc" id="L368">    public enum SchedulerType {</span>
<span class="fc" id="L369">        Ng,</span>
<span class="fc" id="L370">        Adaptive</span>
    }

    @Documentation.Section(Documentation.Sections.EXPERT_SCHEDULING)
<span class="fc" id="L374">    public static final ConfigOption&lt;SchedulerExecutionMode&gt; SCHEDULER_MODE =</span>
<span class="fc" id="L375">            key(&quot;scheduler-mode&quot;)</span>
<span class="fc" id="L376">                    .enumType(SchedulerExecutionMode.class)</span>
<span class="fc" id="L377">                    .defaultValue(null)</span>
<span class="fc" id="L378">                    .withDescription(</span>
<span class="fc" id="L379">                            Description.builder()</span>
<span class="fc" id="L380">                                    .text(</span>
                                            &quot;Determines the mode of the scheduler. Note that %s=%s is only supported by standalone application deployments, not by active resource managers (YARN, Kubernetes) or session clusters.&quot;,
<span class="fc" id="L382">                                            code(&quot;scheduler-mode&quot;),</span>
<span class="fc" id="L383">                                            code(SchedulerExecutionMode.REACTIVE.name()))</span>
<span class="fc" id="L384">                                    .build());</span>

    @Documentation.Section({
        Documentation.Sections.EXPERT_SCHEDULING,
        Documentation.Sections.ALL_JOB_MANAGER
    })
<span class="fc" id="L390">    public static final ConfigOption&lt;Integer&gt; MIN_PARALLELISM_INCREASE =</span>
<span class="fc" id="L391">            key(&quot;jobmanager.adaptive-scheduler.min-parallelism-increase&quot;)</span>
<span class="fc" id="L392">                    .intType()</span>
<span class="fc" id="L393">                    .defaultValue(1)</span>
<span class="fc" id="L394">                    .withDescription(</span>
                            &quot;Configure the minimum increase in parallelism for a job to scale up.&quot;);

    @Documentation.Section({
        Documentation.Sections.EXPERT_SCHEDULING,
        Documentation.Sections.ALL_JOB_MANAGER
    })
<span class="fc" id="L401">    public static final ConfigOption&lt;Duration&gt; RESOURCE_WAIT_TIMEOUT =</span>
<span class="fc" id="L402">            key(&quot;jobmanager.adaptive-scheduler.resource-wait-timeout&quot;)</span>
<span class="fc" id="L403">                    .durationType()</span>
<span class="fc" id="L404">                    .defaultValue(Duration.ofSeconds(10))</span>
<span class="fc" id="L405">                    .withDescription(</span>
<span class="fc" id="L406">                            Description.builder()</span>
<span class="fc" id="L407">                                    .text(</span>
                                            &quot;The maximum time the JobManager will wait to acquire all required resources after a job submission or restart. &quot;
                                                    + &quot;Once elapsed it will try to run the job with a lower parallelism, or fail if the minimum amount of resources could not be acquired.&quot;)
<span class="fc" id="L410">                                    .linebreak()</span>
<span class="fc" id="L411">                                    .text(</span>
                                            &quot;Increasing this value will make the cluster more resilient against temporary resources shortages (e.g., there is more time for a failed TaskManager to be restarted).&quot;)
<span class="fc" id="L413">                                    .linebreak()</span>
<span class="fc" id="L414">                                    .text(</span>
                                            &quot;Setting a negative duration will disable the resource timeout: The JobManager will wait indefinitely for resources to appear.&quot;)
<span class="fc" id="L416">                                    .linebreak()</span>
<span class="fc" id="L417">                                    .text(</span>
                                            &quot;If %s is configured to %s, this configuration value will default to a negative value to disable the resource timeout.&quot;,
<span class="fc" id="L419">                                            code(SCHEDULER_MODE.key()),</span>
<span class="fc" id="L420">                                            code(SchedulerExecutionMode.REACTIVE.name()))</span>
<span class="fc" id="L421">                                    .build());</span>

    @Documentation.Section({
        Documentation.Sections.EXPERT_SCHEDULING,
        Documentation.Sections.ALL_JOB_MANAGER
    })
<span class="fc" id="L427">    public static final ConfigOption&lt;Duration&gt; RESOURCE_STABILIZATION_TIMEOUT =</span>
<span class="fc" id="L428">            key(&quot;jobmanager.adaptive-scheduler.resource-stabilization-timeout&quot;)</span>
<span class="fc" id="L429">                    .durationType()</span>
<span class="fc" id="L430">                    .defaultValue(RESOURCE_WAIT_TIMEOUT.defaultValue())</span>
<span class="fc" id="L431">                    .withDescription(</span>
<span class="fc" id="L432">                            Description.builder()</span>
<span class="fc" id="L433">                                    .text(</span>
                                            &quot;The resource stabilization timeout defines the time the JobManager will wait if fewer than the desired but sufficient resources are available. &quot;
                                                    + &quot;The timeout starts once sufficient resources for running the job are available. &quot;
                                                    + &quot;Once this timeout has passed, the job will start executing with the available resources.&quot;)
<span class="fc" id="L437">                                    .linebreak()</span>
<span class="fc" id="L438">                                    .text(</span>
                                            &quot;If %s is configured to %s, this configuration value will default to 0, so that jobs are starting immediately with the available resources.&quot;,
<span class="fc" id="L440">                                            code(SCHEDULER_MODE.key()),</span>
<span class="fc" id="L441">                                            code(SchedulerExecutionMode.REACTIVE.name()))</span>
<span class="fc" id="L442">                                    .build());</span>

    /**
     * Config parameter controlling whether partitions should already be released during the job
     * execution.
     */
    @Documentation.ExcludeFromDocumentation(
            &quot;User normally should not be expected to deactivate this feature. &quot;
                    + &quot;We aim at removing this flag eventually.&quot;)
<span class="fc" id="L451">    public static final ConfigOption&lt;Boolean&gt; PARTITION_RELEASE_DURING_JOB_EXECUTION =</span>
<span class="fc" id="L452">            key(&quot;jobmanager.partition.release-during-job-execution&quot;)</span>
<span class="fc" id="L453">                    .defaultValue(true)</span>
<span class="fc" id="L454">                    .withDescription(</span>
                            &quot;Controls whether partitions should already be released during the job execution.&quot;);

    // ---------------------------------------------------------------------------------------------

<span class="nc" id="L459">    private JobManagerOptions() {</span>
<span class="nc" id="L460">        throw new IllegalAccessError();</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span></div></body></html>