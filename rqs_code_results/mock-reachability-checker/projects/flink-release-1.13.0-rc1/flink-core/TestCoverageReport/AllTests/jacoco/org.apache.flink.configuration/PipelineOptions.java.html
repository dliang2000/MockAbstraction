<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>PipelineOptions.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Flink : Core</a> &gt; <a href="index.source.html" class="el_package">org.apache.flink.configuration</a> &gt; <span class="el_source">PipelineOptions.java</span></div><h1>PipelineOptions.java</h1><pre class="source lang-java linenums">/*
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * &quot;License&quot;); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package org.apache.flink.configuration;

import org.apache.flink.annotation.PublicEvolving;
import org.apache.flink.api.common.ExecutionConfig.ClosureCleanerLevel;
import org.apache.flink.configuration.description.Description;
import org.apache.flink.configuration.description.TextElement;

import java.time.Duration;
import java.util.List;
import java.util.Map;

import static org.apache.flink.configuration.ConfigOptions.key;
import static org.apache.flink.configuration.description.TextElement.code;
import static org.apache.flink.configuration.description.TextElement.text;

/** The {@link ConfigOption configuration options} for job execution. */
@PublicEvolving
<span class="nc" id="L36">public class PipelineOptions {</span>

    /** The job name used for printing and logging. */
<span class="fc" id="L39">    public static final ConfigOption&lt;String&gt; NAME =</span>
<span class="fc" id="L40">            key(&quot;pipeline.name&quot;)</span>
<span class="fc" id="L41">                    .stringType()</span>
<span class="fc" id="L42">                    .noDefaultValue()</span>
<span class="fc" id="L43">                    .withDescription(&quot;The job name used for printing and logging.&quot;);</span>

    /**
     * A list of jar files that contain the user-defined function (UDF) classes and all classes used
     * from within the UDFs.
     */
<span class="fc" id="L49">    public static final ConfigOption&lt;List&lt;String&gt;&gt; JARS =</span>
<span class="fc" id="L50">            key(&quot;pipeline.jars&quot;)</span>
<span class="fc" id="L51">                    .stringType()</span>
<span class="fc" id="L52">                    .asList()</span>
<span class="fc" id="L53">                    .noDefaultValue()</span>
<span class="fc" id="L54">                    .withDescription(</span>
                            &quot;A semicolon-separated list of the jars to package with the job jars to be sent to the&quot;
                                    + &quot; cluster. These have to be valid paths.&quot;);
    /**
     * A list of URLs that are added to the classpath of each user code classloader of the program.
     * Paths must specify a protocol (e.g. file://) and be accessible on all nodes
     */
<span class="fc" id="L61">    public static final ConfigOption&lt;List&lt;String&gt;&gt; CLASSPATHS =</span>
<span class="fc" id="L62">            key(&quot;pipeline.classpaths&quot;)</span>
<span class="fc" id="L63">                    .stringType()</span>
<span class="fc" id="L64">                    .asList()</span>
<span class="fc" id="L65">                    .noDefaultValue()</span>
<span class="fc" id="L66">                    .withDescription(</span>
                            &quot;A semicolon-separated list of the classpaths to package with the job jars to be sent to&quot;
                                    + &quot; the cluster. These have to be valid URLs.&quot;);

<span class="fc" id="L70">    public static final ConfigOption&lt;Boolean&gt; AUTO_GENERATE_UIDS =</span>
<span class="fc" id="L71">            key(&quot;pipeline.auto-generate-uids&quot;)</span>
<span class="fc" id="L72">                    .booleanType()</span>
<span class="fc" id="L73">                    .defaultValue(true)</span>
<span class="fc" id="L74">                    .withDescription(</span>
<span class="fc" id="L75">                            Description.builder()</span>
<span class="fc" id="L76">                                    .text(</span>
                                            &quot;When auto-generated UIDs are disabled, users are forced to manually specify UIDs on DataStream applications.&quot;)
<span class="fc" id="L78">                                    .linebreak()</span>
<span class="fc" id="L79">                                    .linebreak()</span>
<span class="fc" id="L80">                                    .text(</span>
                                            &quot;It is highly recommended that users specify UIDs before deploying to&quot;
                                                    + &quot; production since they are used to match state in savepoints to operators&quot;
                                                    + &quot; in a job. Because auto-generated ID's are likely to change when modifying&quot;
                                                    + &quot; a job, specifying custom IDs allow an application to evolve over time&quot;
                                                    + &quot; without discarding state.&quot;)
<span class="fc" id="L86">                                    .build());</span>

<span class="fc" id="L88">    public static final ConfigOption&lt;Boolean&gt; AUTO_TYPE_REGISTRATION =</span>
<span class="fc" id="L89">            key(&quot;pipeline.auto-type-registration&quot;)</span>
<span class="fc" id="L90">                    .booleanType()</span>
<span class="fc" id="L91">                    .defaultValue(true)</span>
<span class="fc" id="L92">                    .withDescription(</span>
                            &quot;Controls whether Flink is automatically registering all types in the user programs&quot;
                                    + &quot; with Kryo.&quot;);

<span class="fc" id="L96">    public static final ConfigOption&lt;Duration&gt; AUTO_WATERMARK_INTERVAL =</span>
<span class="fc" id="L97">            key(&quot;pipeline.auto-watermark-interval&quot;)</span>
<span class="fc" id="L98">                    .durationType()</span>
<span class="fc" id="L99">                    .defaultValue(Duration.ZERO)</span>
<span class="fc" id="L100">                    .withDescription(</span>
                            &quot;The interval of the automatic watermark emission. Watermarks are used throughout&quot;
                                    + &quot; the streaming system to keep track of the progress of time. They are used, for example,&quot;
                                    + &quot; for time based windowing.&quot;);

<span class="fc" id="L105">    public static final ConfigOption&lt;ClosureCleanerLevel&gt; CLOSURE_CLEANER_LEVEL =</span>
<span class="fc" id="L106">            key(&quot;pipeline.closure-cleaner-level&quot;)</span>
<span class="fc" id="L107">                    .enumType(ClosureCleanerLevel.class)</span>
<span class="fc" id="L108">                    .defaultValue(ClosureCleanerLevel.RECURSIVE)</span>
<span class="fc" id="L109">                    .withDescription(</span>
<span class="fc" id="L110">                            Description.builder()</span>
<span class="fc" id="L111">                                    .text(&quot;Configures the mode in which the closure cleaner works&quot;)</span>
<span class="fc" id="L112">                                    .list(</span>
<span class="fc" id="L113">                                            text(</span>
                                                    &quot;%s - disables the closure cleaner completely&quot;,
<span class="fc" id="L115">                                                    code(ClosureCleanerLevel.NONE.toString())),</span>
<span class="fc" id="L116">                                            text(</span>
                                                    &quot;%s - cleans only the top-level class without recursing into fields&quot;,
<span class="fc" id="L118">                                                    code(ClosureCleanerLevel.TOP_LEVEL.toString())),</span>
<span class="fc" id="L119">                                            text(</span>
                                                    &quot;%s - cleans all the fields recursively&quot;,
<span class="fc" id="L121">                                                    code(ClosureCleanerLevel.RECURSIVE.toString())))</span>
<span class="fc" id="L122">                                    .build());</span>

<span class="fc" id="L124">    public static final ConfigOption&lt;Boolean&gt; FORCE_AVRO =</span>
<span class="fc" id="L125">            key(&quot;pipeline.force-avro&quot;)</span>
<span class="fc" id="L126">                    .booleanType()</span>
<span class="fc" id="L127">                    .defaultValue(false)</span>
<span class="fc" id="L128">                    .withDescription(</span>
<span class="fc" id="L129">                            Description.builder()</span>
<span class="fc" id="L130">                                    .text(</span>
                                            &quot;Forces Flink to use the Apache Avro serializer for POJOs.&quot;)
<span class="fc" id="L132">                                    .linebreak()</span>
<span class="fc" id="L133">                                    .linebreak()</span>
<span class="fc" id="L134">                                    .text(</span>
                                            &quot;Important: Make sure to include the %s module.&quot;,
<span class="fc" id="L136">                                            code(&quot;flink-avro&quot;))</span>
<span class="fc" id="L137">                                    .build());</span>

<span class="fc" id="L139">    public static final ConfigOption&lt;Boolean&gt; FORCE_KRYO =</span>
<span class="fc" id="L140">            key(&quot;pipeline.force-kryo&quot;)</span>
<span class="fc" id="L141">                    .booleanType()</span>
<span class="fc" id="L142">                    .defaultValue(false)</span>
<span class="fc" id="L143">                    .withDescription(</span>
                            &quot;If enabled, forces TypeExtractor to use Kryo serializer for POJOS even though we could&quot;
                                    + &quot; analyze as POJO. In some cases this might be preferable. For example, when using interfaces&quot;
                                    + &quot; with subclasses that cannot be analyzed as POJO.&quot;);

<span class="fc" id="L148">    public static final ConfigOption&lt;Boolean&gt; GENERIC_TYPES =</span>
<span class="fc" id="L149">            key(&quot;pipeline.generic-types&quot;)</span>
<span class="fc" id="L150">                    .booleanType()</span>
<span class="fc" id="L151">                    .defaultValue(true)</span>
<span class="fc" id="L152">                    .withDescription(</span>
<span class="fc" id="L153">                            Description.builder()</span>
<span class="fc" id="L154">                                    .text(</span>
                                            &quot;If the use of generic types is disabled, Flink will throw an %s whenever it encounters&quot;
                                                    + &quot; a data type that would go through Kryo for serialization.&quot;,
<span class="fc" id="L157">                                            code(&quot;UnsupportedOperationException&quot;))</span>
<span class="fc" id="L158">                                    .linebreak()</span>
<span class="fc" id="L159">                                    .linebreak()</span>
<span class="fc" id="L160">                                    .text(</span>
                                            &quot;Disabling generic types can be helpful to eagerly find and eliminate the use of types&quot;
                                                    + &quot; that would go through Kryo serialization during runtime. Rather than checking types&quot;
                                                    + &quot; individually, using this option will throw exceptions eagerly in the places where generic&quot;
                                                    + &quot; types are used.&quot;)
<span class="fc" id="L165">                                    .linebreak()</span>
<span class="fc" id="L166">                                    .linebreak()</span>
<span class="fc" id="L167">                                    .text(</span>
                                            &quot;We recommend to use this option only during development and pre-production&quot;
                                                    + &quot; phases, not during actual production use. The application program and/or the input data may be&quot;
                                                    + &quot; such that new, previously unseen, types occur at some point. In that case, setting this option&quot;
                                                    + &quot; would cause the program to fail.&quot;)
<span class="fc" id="L172">                                    .build());</span>

<span class="fc" id="L174">    public static final ConfigOption&lt;Map&lt;String, String&gt;&gt; GLOBAL_JOB_PARAMETERS =</span>
<span class="fc" id="L175">            key(&quot;pipeline.global-job-parameters&quot;)</span>
<span class="fc" id="L176">                    .mapType()</span>
<span class="fc" id="L177">                    .noDefaultValue()</span>
<span class="fc" id="L178">                    .withDescription(</span>
                            &quot;Register a custom, serializable user configuration object. The configuration can be &quot;
                                    + &quot; accessed in operators&quot;);

<span class="fc" id="L182">    public static final ConfigOption&lt;Integer&gt; MAX_PARALLELISM =</span>
<span class="fc" id="L183">            key(&quot;pipeline.max-parallelism&quot;)</span>
<span class="fc" id="L184">                    .intType()</span>
<span class="fc" id="L185">                    .defaultValue(-1)</span>
<span class="fc" id="L186">                    .withDescription(</span>
                            &quot;The program-wide maximum parallelism used for operators which haven't specified a&quot;
                                    + &quot; maximum parallelism. The maximum parallelism specifies the upper limit for dynamic scaling and&quot;
                                    + &quot; the number of key groups used for partitioned state.&quot;);

<span class="fc" id="L191">    public static final ConfigOption&lt;Boolean&gt; OBJECT_REUSE =</span>
<span class="fc" id="L192">            key(&quot;pipeline.object-reuse&quot;)</span>
<span class="fc" id="L193">                    .booleanType()</span>
<span class="fc" id="L194">                    .defaultValue(false)</span>
<span class="fc" id="L195">                    .withDescription(</span>
                            &quot;When enabled objects that Flink internally uses for deserialization and passing&quot;
                                    + &quot; data to user-code functions will be reused. Keep in mind that this can lead to bugs when the&quot;
                                    + &quot; user-code function of an operation is not aware of this behaviour.&quot;);

<span class="fc" id="L200">    public static final ConfigOption&lt;List&lt;String&gt;&gt; KRYO_DEFAULT_SERIALIZERS =</span>
<span class="fc" id="L201">            key(&quot;pipeline.default-kryo-serializers&quot;)</span>
<span class="fc" id="L202">                    .stringType()</span>
<span class="fc" id="L203">                    .asList()</span>
<span class="fc" id="L204">                    .noDefaultValue()</span>
<span class="fc" id="L205">                    .withDescription(</span>
<span class="fc" id="L206">                            Description.builder()</span>
<span class="fc" id="L207">                                    .text(</span>
                                            &quot;Semicolon separated list of pairs of class names and Kryo serializers class names to be used&quot;
                                                    + &quot; as Kryo default serializers&quot;)
<span class="fc" id="L210">                                    .linebreak()</span>
<span class="fc" id="L211">                                    .linebreak()</span>
<span class="fc" id="L212">                                    .text(&quot;Example:&quot;)</span>
<span class="fc" id="L213">                                    .linebreak()</span>
<span class="fc" id="L214">                                    .add(</span>
<span class="fc" id="L215">                                            TextElement.code(</span>
                                                    &quot;class:org.example.ExampleClass,serializer:org.example.ExampleSerializer1;&quot;
                                                            + &quot; class:org.example.ExampleClass2,serializer:org.example.ExampleSerializer2&quot;))
<span class="fc" id="L218">                                    .build());</span>

<span class="fc" id="L220">    public static final ConfigOption&lt;List&lt;String&gt;&gt; KRYO_REGISTERED_CLASSES =</span>
<span class="fc" id="L221">            key(&quot;pipeline.registered-kryo-types&quot;)</span>
<span class="fc" id="L222">                    .stringType()</span>
<span class="fc" id="L223">                    .asList()</span>
<span class="fc" id="L224">                    .noDefaultValue()</span>
<span class="fc" id="L225">                    .withDescription(</span>
<span class="fc" id="L226">                            Description.builder()</span>
<span class="fc" id="L227">                                    .text(</span>
                                            &quot;Semicolon separated list of types to be registered with the serialization stack. If the type&quot;
                                                    + &quot; is eventually serialized as a POJO, then the type is registered with the POJO serializer. If the&quot;
                                                    + &quot; type ends up being serialized with Kryo, then it will be registered at Kryo to make&quot;
                                                    + &quot; sure that only tags are written.&quot;)
<span class="fc" id="L232">                                    .build());</span>

<span class="fc" id="L234">    public static final ConfigOption&lt;List&lt;String&gt;&gt; POJO_REGISTERED_CLASSES =</span>
<span class="fc" id="L235">            key(&quot;pipeline.registered-pojo-types&quot;)</span>
<span class="fc" id="L236">                    .stringType()</span>
<span class="fc" id="L237">                    .asList()</span>
<span class="fc" id="L238">                    .noDefaultValue()</span>
<span class="fc" id="L239">                    .withDescription(</span>
<span class="fc" id="L240">                            Description.builder()</span>
<span class="fc" id="L241">                                    .text(</span>
                                            &quot;Semicolon separated list of types to be registered with the serialization stack. If the type&quot;
                                                    + &quot; is eventually serialized as a POJO, then the type is registered with the POJO serializer. If the&quot;
                                                    + &quot; type ends up being serialized with Kryo, then it will be registered at Kryo to make&quot;
                                                    + &quot; sure that only tags are written.&quot;)
<span class="fc" id="L246">                                    .build());</span>

<span class="fc" id="L248">    public static final ConfigOption&lt;Boolean&gt; OPERATOR_CHAINING =</span>
<span class="fc" id="L249">            key(&quot;pipeline.operator-chaining&quot;)</span>
<span class="fc" id="L250">                    .booleanType()</span>
<span class="fc" id="L251">                    .defaultValue(true)</span>
<span class="fc" id="L252">                    .withDescription(</span>
                            &quot;Operator chaining allows non-shuffle operations to be co-located in the same thread &quot;
                                    + &quot;fully avoiding serialization and de-serialization.&quot;);

<span class="fc" id="L256">    public static final ConfigOption&lt;List&lt;String&gt;&gt; CACHED_FILES =</span>
<span class="fc" id="L257">            key(&quot;pipeline.cached-files&quot;)</span>
<span class="fc" id="L258">                    .stringType()</span>
<span class="fc" id="L259">                    .asList()</span>
<span class="fc" id="L260">                    .noDefaultValue()</span>
<span class="fc" id="L261">                    .withDescription(</span>
<span class="fc" id="L262">                            Description.builder()</span>
<span class="fc" id="L263">                                    .text(</span>
                                            &quot;Files to be registered at the distributed cache under the given name. The files will be &quot;
                                                    + &quot;accessible from any user-defined function in the (distributed) runtime under a local path. &quot;
                                                    + &quot;Files may be local files (which will be distributed via BlobServer), or files in a distributed &quot;
                                                    + &quot;file system. The runtime will copy the files temporarily to a local cache, if needed.&quot;)
<span class="fc" id="L268">                                    .linebreak()</span>
<span class="fc" id="L269">                                    .linebreak()</span>
<span class="fc" id="L270">                                    .text(&quot;Example:&quot;)</span>
<span class="fc" id="L271">                                    .linebreak()</span>
<span class="fc" id="L272">                                    .add(</span>
<span class="fc" id="L273">                                            TextElement.code(</span>
                                                    &quot;name:file1,path:`file:///tmp/file1`;name:file2,path:`hdfs:///tmp/file2`&quot;))
<span class="fc" id="L275">                                    .build());</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span></div></body></html>