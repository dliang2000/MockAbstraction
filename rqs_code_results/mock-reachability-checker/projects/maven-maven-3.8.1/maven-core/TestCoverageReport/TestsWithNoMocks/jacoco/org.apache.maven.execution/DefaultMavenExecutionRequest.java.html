<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>DefaultMavenExecutionRequest.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Maven Core</a> &gt; <a href="index.source.html" class="el_package">org.apache.maven.execution</a> &gt; <span class="el_source">DefaultMavenExecutionRequest.java</span></div><h1>DefaultMavenExecutionRequest.java</h1><pre class="source lang-java linenums">package org.apache.maven.execution;

/*
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * &quot;License&quot;); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 */

import java.io.File;
import java.util.ArrayList;
import java.util.Date;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import java.util.Objects;
import java.util.Properties;

import org.apache.maven.artifact.repository.ArtifactRepository;
import org.apache.maven.eventspy.internal.EventSpyDispatcher;
import org.apache.maven.model.Profile;
import org.apache.maven.project.DefaultProjectBuildingRequest;
import org.apache.maven.project.ProjectBuildingRequest;
import org.apache.maven.properties.internal.SystemProperties;
import org.apache.maven.settings.Mirror;
import org.apache.maven.settings.Proxy;
import org.apache.maven.settings.Server;
import org.apache.maven.toolchain.model.ToolchainModel;
import org.eclipse.aether.DefaultRepositoryCache;
import org.eclipse.aether.RepositoryCache;
import org.eclipse.aether.repository.WorkspaceReader;
import org.eclipse.aether.transfer.TransferListener;

/**
 * @author Jason van Zyl
 */
public class DefaultMavenExecutionRequest
    implements MavenExecutionRequest
{

<span class="fc" id="L53">    private RepositoryCache repositoryCache = new DefaultRepositoryCache();</span>

    private WorkspaceReader workspaceReader;

    private ArtifactRepository localRepository;

    private EventSpyDispatcher eventSpyDispatcher;

    private File localRepositoryPath;

<span class="fc" id="L63">    private boolean offline = false;</span>

<span class="fc" id="L65">    private boolean interactiveMode = true;</span>

    private boolean cacheTransferError;

    private boolean cacheNotFound;

    private List&lt;Proxy&gt; proxies;

    private List&lt;Server&gt; servers;

    private List&lt;Mirror&gt; mirrors;

    private List&lt;Profile&gt; profiles;

    private List&lt;String&gt; pluginGroups;

<span class="fc" id="L81">    private boolean isProjectPresent = true;</span>

    // ----------------------------------------------------------------------------
    // We need to allow per execution user and global settings as the embedder
    // might be running in a mode where its executing many threads with totally
    // different settings.
    // ----------------------------------------------------------------------------

    private File userSettingsFile;

    private File globalSettingsFile;

    private File userToolchainsFile;

    private File globalToolchainsFile;

    // ----------------------------------------------------------------------------
    // Request
    // ----------------------------------------------------------------------------

    private File multiModuleProjectDirectory;

    private File basedir;

    private List&lt;String&gt; goals;

<span class="fc" id="L107">    private boolean useReactor = false;</span>

<span class="fc" id="L109">    private boolean recursive = true;</span>

    private File pom;

<span class="fc" id="L113">    private String reactorFailureBehavior = REACTOR_FAIL_FAST;</span>

    private List&lt;String&gt; selectedProjects;

    private List&lt;String&gt; excludedProjects;

    private String resumeFrom;

    private String makeBehavior;

    private Properties systemProperties;

    private Properties userProperties;

    private Date startTime;

<span class="fc" id="L129">    private boolean showErrors = false;</span>

    private List&lt;String&gt; activeProfiles;

    private List&lt;String&gt; inactiveProfiles;

    private TransferListener transferListener;

<span class="fc" id="L137">    private int loggingLevel = LOGGING_LEVEL_INFO;</span>

    private String globalChecksumPolicy;

<span class="fc" id="L141">    private boolean updateSnapshots = false;</span>

    private List&lt;ArtifactRepository&gt; remoteRepositories;

    private List&lt;ArtifactRepository&gt; pluginArtifactRepositories;

    private ExecutionListener executionListener;

<span class="fc" id="L149">    private int degreeOfConcurrency = 1;</span>

<span class="fc" id="L151">    private String builderId = &quot;singlethreaded&quot;;</span>

    private Map&lt;String, List&lt;ToolchainModel&gt;&gt; toolchains;

    /**
     * Suppress SNAPSHOT updates.
     *
     * @issue MNG-2681
     */
    private boolean noSnapshotUpdates;

<span class="fc" id="L162">    private boolean useLegacyLocalRepositoryManager = false;</span>

    private Map&lt;String, Object&gt; data;

    public DefaultMavenExecutionRequest()
<span class="fc" id="L167">    {</span>
<span class="fc" id="L168">    }</span>

    public static MavenExecutionRequest copy( MavenExecutionRequest original )
    {
<span class="fc" id="L172">        DefaultMavenExecutionRequest copy = new DefaultMavenExecutionRequest();</span>
<span class="fc" id="L173">        copy.setLocalRepository( original.getLocalRepository() );</span>
<span class="fc" id="L174">        copy.setLocalRepositoryPath( original.getLocalRepositoryPath() );</span>
<span class="fc" id="L175">        copy.setOffline( original.isOffline() );</span>
<span class="fc" id="L176">        copy.setInteractiveMode( original.isInteractiveMode() );</span>
<span class="fc" id="L177">        copy.setCacheNotFound( original.isCacheNotFound() );</span>
<span class="fc" id="L178">        copy.setCacheTransferError( original.isCacheTransferError() );</span>
<span class="fc" id="L179">        copy.setProxies( original.getProxies() );</span>
<span class="fc" id="L180">        copy.setServers( original.getServers() );</span>
<span class="fc" id="L181">        copy.setMirrors( original.getMirrors() );</span>
<span class="fc" id="L182">        copy.setProfiles( original.getProfiles() );</span>
<span class="fc" id="L183">        copy.setPluginGroups( original.getPluginGroups() );</span>
<span class="fc" id="L184">        copy.setProjectPresent( original.isProjectPresent() );</span>
<span class="fc" id="L185">        copy.setUserSettingsFile( original.getUserSettingsFile() );</span>
<span class="fc" id="L186">        copy.setGlobalSettingsFile( original.getGlobalSettingsFile() );</span>
<span class="fc" id="L187">        copy.setUserToolchainsFile( original.getUserToolchainsFile() );</span>
<span class="fc" id="L188">        copy.setGlobalToolchainsFile( original.getGlobalToolchainsFile() );</span>
<span class="pc bpc" id="L189" title="1 of 2 branches missed.">        copy.setBaseDirectory( ( original.getBaseDirectory() != null ) ? new File( original.getBaseDirectory() )</span>
                                                                       : null );
<span class="fc" id="L191">        copy.setGoals( original.getGoals() );</span>
<span class="fc" id="L192">        copy.setRecursive( original.isRecursive() );</span>
<span class="fc" id="L193">        copy.setPom( original.getPom() );</span>
<span class="fc" id="L194">        copy.setSystemProperties( original.getSystemProperties() );</span>
<span class="fc" id="L195">        copy.setUserProperties( original.getUserProperties() );</span>
<span class="fc" id="L196">        copy.setShowErrors( original.isShowErrors() );</span>
<span class="fc" id="L197">        copy.setActiveProfiles( original.getActiveProfiles() );</span>
<span class="fc" id="L198">        copy.setInactiveProfiles( original.getInactiveProfiles() );</span>
<span class="fc" id="L199">        copy.setTransferListener( original.getTransferListener() );</span>
<span class="fc" id="L200">        copy.setLoggingLevel( original.getLoggingLevel() );</span>
<span class="fc" id="L201">        copy.setGlobalChecksumPolicy( original.getGlobalChecksumPolicy() );</span>
<span class="fc" id="L202">        copy.setUpdateSnapshots( original.isUpdateSnapshots() );</span>
<span class="fc" id="L203">        copy.setRemoteRepositories( original.getRemoteRepositories() );</span>
<span class="fc" id="L204">        copy.setPluginArtifactRepositories( original.getPluginArtifactRepositories() );</span>
<span class="fc" id="L205">        copy.setRepositoryCache( original.getRepositoryCache() );</span>
<span class="fc" id="L206">        copy.setWorkspaceReader( original.getWorkspaceReader() );</span>
<span class="fc" id="L207">        copy.setNoSnapshotUpdates( original.isNoSnapshotUpdates() );</span>
<span class="fc" id="L208">        copy.setExecutionListener( original.getExecutionListener() );</span>
<span class="fc" id="L209">        copy.setUseLegacyLocalRepository( original.isUseLegacyLocalRepository() );</span>
<span class="fc" id="L210">        copy.setBuilderId( original.getBuilderId() );</span>
<span class="fc" id="L211">        return copy;</span>
    }

    @Override
    public String getBaseDirectory()
    {
<span class="fc bfc" id="L217" title="All 2 branches covered.">        if ( basedir == null )</span>
        {
<span class="fc" id="L219">            return null;</span>
        }

<span class="fc" id="L222">        return basedir.getAbsolutePath();</span>
    }

    @Override
    public ArtifactRepository getLocalRepository()
    {
<span class="fc" id="L228">        return localRepository;</span>
    }

    @Override
    public File getLocalRepositoryPath()
    {
<span class="fc" id="L234">        return localRepositoryPath;</span>
    }

    @Override
    public List&lt;String&gt; getGoals()
    {
<span class="fc bfc" id="L240" title="All 2 branches covered.">        if ( goals == null )</span>
        {
<span class="fc" id="L242">            goals = new ArrayList&lt;&gt;();</span>
        }
<span class="fc" id="L244">        return goals;</span>
    }

    @Override
    public Properties getSystemProperties()
    {
<span class="fc bfc" id="L250" title="All 2 branches covered.">        if ( systemProperties == null )</span>
        {
<span class="fc" id="L252">            systemProperties = new Properties();</span>
        }

<span class="fc" id="L255">        return systemProperties;</span>
    }

    @Override
    public Properties getUserProperties()
    {
<span class="fc bfc" id="L261" title="All 2 branches covered.">        if ( userProperties == null )</span>
        {
<span class="fc" id="L263">            userProperties = new Properties();</span>
        }

<span class="fc" id="L266">        return userProperties;</span>
    }

    @Override
    public File getPom()
    {
<span class="fc" id="L272">        return pom;</span>
    }

    @Override
    public String getReactorFailureBehavior()
    {
<span class="nc" id="L278">        return reactorFailureBehavior;</span>
    }

    @Override
    public List&lt;String&gt; getSelectedProjects()
    {
<span class="pc bpc" id="L284" title="1 of 2 branches missed.">        if ( selectedProjects == null )</span>
        {
<span class="fc" id="L286">            selectedProjects = new ArrayList&lt;&gt;();</span>
        }

<span class="fc" id="L289">        return selectedProjects;</span>
    }

    @Override
    public List&lt;String&gt; getExcludedProjects()
    {
<span class="pc bpc" id="L295" title="1 of 2 branches missed.">        if ( excludedProjects == null )</span>
        {
<span class="fc" id="L297">            excludedProjects = new ArrayList&lt;&gt;();</span>
        }

<span class="fc" id="L300">        return excludedProjects;</span>
    }

    @Override
    public String getResumeFrom()
    {
<span class="fc" id="L306">        return resumeFrom;</span>
    }

    @Override
    public String getMakeBehavior()
    {
<span class="nc" id="L312">        return makeBehavior;</span>
    }

    @Override
    public Date getStartTime()
    {
<span class="fc" id="L318">        return startTime;</span>
    }

    @Override
    public boolean isShowErrors()
    {
<span class="fc" id="L324">        return showErrors;</span>
    }

    @Override
    public boolean isInteractiveMode()
    {
<span class="fc" id="L330">        return interactiveMode;</span>
    }

    @Override
    public MavenExecutionRequest setActiveProfiles( List&lt;String&gt; activeProfiles )
    {
<span class="pc bpc" id="L336" title="1 of 2 branches missed.">        if ( activeProfiles != null )</span>
        {
<span class="fc" id="L338">            this.activeProfiles = new ArrayList&lt;&gt;( activeProfiles );</span>
        }
        else
        {
<span class="nc" id="L342">            this.activeProfiles = null;</span>
        }

<span class="fc" id="L345">        return this;</span>
    }

    @Override
    public MavenExecutionRequest setInactiveProfiles( List&lt;String&gt; inactiveProfiles )
    {
<span class="pc bpc" id="L351" title="1 of 2 branches missed.">        if ( inactiveProfiles != null )</span>
        {
<span class="fc" id="L353">            this.inactiveProfiles = new ArrayList&lt;&gt;( inactiveProfiles );</span>
        }
        else
        {
<span class="nc" id="L357">            this.inactiveProfiles = null;</span>
        }

<span class="fc" id="L360">        return this;</span>
    }

    @Override
    public MavenExecutionRequest setRemoteRepositories( List&lt;ArtifactRepository&gt; remoteRepositories )
    {
<span class="pc bpc" id="L366" title="1 of 2 branches missed.">        if ( remoteRepositories != null )</span>
        {
<span class="fc" id="L368">            this.remoteRepositories = new ArrayList&lt;&gt;( remoteRepositories );</span>
        }
        else
        {
<span class="nc" id="L372">            this.remoteRepositories = null;</span>
        }

<span class="fc" id="L375">        return this;</span>
    }

    @Override
    public MavenExecutionRequest setPluginArtifactRepositories( List&lt;ArtifactRepository&gt; pluginArtifactRepositories )
    {
<span class="pc bpc" id="L381" title="1 of 2 branches missed.">        if ( pluginArtifactRepositories != null )</span>
        {
<span class="fc" id="L383">            this.pluginArtifactRepositories = new ArrayList&lt;&gt;( pluginArtifactRepositories );</span>
        }
        else
        {
<span class="nc" id="L387">            this.pluginArtifactRepositories = null;</span>
        }

<span class="fc" id="L390">        return this;</span>
    }

    public void setProjectBuildingConfiguration( ProjectBuildingRequest projectBuildingConfiguration )
    {
<span class="nc" id="L395">        this.projectBuildingRequest = projectBuildingConfiguration;</span>
<span class="nc" id="L396">    }</span>

    @Override
    public List&lt;String&gt; getActiveProfiles()
    {
<span class="fc bfc" id="L401" title="All 2 branches covered.">        if ( activeProfiles == null )</span>
        {
<span class="fc" id="L403">            activeProfiles = new ArrayList&lt;&gt;();</span>
        }
<span class="fc" id="L405">        return activeProfiles;</span>
    }

    @Override
    public List&lt;String&gt; getInactiveProfiles()
    {
<span class="pc bpc" id="L411" title="1 of 2 branches missed.">        if ( inactiveProfiles == null )</span>
        {
<span class="fc" id="L413">            inactiveProfiles = new ArrayList&lt;&gt;();</span>
        }
<span class="fc" id="L415">        return inactiveProfiles;</span>
    }

    @Override
    public TransferListener getTransferListener()
    {
<span class="fc" id="L421">        return transferListener;</span>
    }

    @Override
    public int getLoggingLevel()
    {
<span class="fc" id="L427">        return loggingLevel;</span>
    }

    @Override
    public boolean isOffline()
    {
<span class="fc" id="L433">        return offline;</span>
    }

    @Override
    public boolean isUpdateSnapshots()
    {
<span class="fc" id="L439">        return updateSnapshots;</span>
    }

    @Override
    public boolean isNoSnapshotUpdates()
    {
<span class="fc" id="L445">        return noSnapshotUpdates;</span>
    }

    @Override
    public String getGlobalChecksumPolicy()
    {
<span class="fc" id="L451">        return globalChecksumPolicy;</span>
    }

    @Override
    public boolean isRecursive()
    {
<span class="fc" id="L457">        return recursive;</span>
    }

    // ----------------------------------------------------------------------
    //
    // ----------------------------------------------------------------------

    @Override
    public MavenExecutionRequest setBaseDirectory( File basedir )
    {
<span class="fc" id="L467">        this.basedir = basedir;</span>

<span class="fc" id="L469">        return this;</span>
    }

    @Override
    public MavenExecutionRequest setStartTime( Date startTime )
    {
<span class="fc" id="L475">        this.startTime = startTime;</span>

<span class="fc" id="L477">        return this;</span>
    }

    @Override
    public MavenExecutionRequest setShowErrors( boolean showErrors )
    {
<span class="fc" id="L483">        this.showErrors = showErrors;</span>

<span class="fc" id="L485">        return this;</span>
    }

    @Override
    public MavenExecutionRequest setGoals( List&lt;String&gt; goals )
    {
<span class="pc bpc" id="L491" title="1 of 2 branches missed.">        if ( goals != null )</span>
        {
<span class="fc" id="L493">            this.goals = new ArrayList&lt;&gt;( goals );</span>
        }
        else
        {
<span class="nc" id="L497">            this.goals = null;</span>
        }

<span class="fc" id="L500">        return this;</span>
    }

    @Override
    public MavenExecutionRequest setLocalRepository( ArtifactRepository localRepository )
    {
<span class="fc" id="L506">        this.localRepository = localRepository;</span>

<span class="fc bfc" id="L508" title="All 2 branches covered.">        if ( localRepository != null )</span>
        {
<span class="fc" id="L510">            setLocalRepositoryPath( new File( localRepository.getBasedir() ).getAbsoluteFile() );</span>
        }

<span class="fc" id="L513">        return this;</span>
    }

    @Override
    public MavenExecutionRequest setLocalRepositoryPath( File localRepository )
    {
<span class="fc" id="L519">        localRepositoryPath = localRepository;</span>

<span class="fc" id="L521">        return this;</span>
    }

    @Override
    public MavenExecutionRequest setLocalRepositoryPath( String localRepository )
    {
<span class="pc bpc" id="L527" title="1 of 2 branches missed.">        localRepositoryPath = ( localRepository != null ) ? new File( localRepository ) : null;</span>

<span class="fc" id="L529">        return this;</span>
    }

    @Override
    public MavenExecutionRequest setSystemProperties( Properties properties )
    {
<span class="pc bpc" id="L535" title="1 of 2 branches missed.">        if ( properties != null )</span>
        {
<span class="fc" id="L537">            this.systemProperties = SystemProperties.copyProperties( properties );</span>
        }
        else
        {
<span class="nc" id="L541">            this.systemProperties = null;</span>
        }

<span class="fc" id="L544">        return this;</span>
    }

    @Override
    public MavenExecutionRequest setUserProperties( Properties userProperties )
    {
<span class="pc bpc" id="L550" title="1 of 2 branches missed.">        if ( userProperties != null )</span>
        {
<span class="fc" id="L552">            this.userProperties = new Properties();</span>
<span class="fc" id="L553">            this.userProperties.putAll( userProperties );</span>
        }
        else
        {
<span class="nc" id="L557">            this.userProperties = null;</span>
        }

<span class="fc" id="L560">        return this;</span>
    }

    @Override
    public MavenExecutionRequest setReactorFailureBehavior( String failureBehavior )
    {
<span class="nc" id="L566">        reactorFailureBehavior = failureBehavior;</span>

<span class="nc" id="L568">        return this;</span>
    }

    @Override
    public MavenExecutionRequest setSelectedProjects( List&lt;String&gt; selectedProjects )
    {
<span class="nc bnc" id="L574" title="All 2 branches missed.">        if ( selectedProjects != null )</span>
        {
<span class="nc" id="L576">            this.selectedProjects = new ArrayList&lt;&gt;( selectedProjects );</span>
        }
        else
        {
<span class="nc" id="L580">            this.selectedProjects = null;</span>
        }

<span class="nc" id="L583">        return this;</span>
    }

    @Override
    public MavenExecutionRequest setExcludedProjects( List&lt;String&gt; excludedProjects )
    {
<span class="nc bnc" id="L589" title="All 2 branches missed.">        if ( excludedProjects != null )</span>
        {
<span class="nc" id="L591">            this.excludedProjects = new ArrayList&lt;&gt;( excludedProjects );</span>
        }
        else
        {
<span class="nc" id="L595">            this.excludedProjects = null;</span>
        }

<span class="nc" id="L598">        return this;</span>
    }

    @Override
    public MavenExecutionRequest setResumeFrom( String project )
    {
<span class="nc" id="L604">        this.resumeFrom = project;</span>

<span class="nc" id="L606">        return this;</span>
    }

    @Override
    public MavenExecutionRequest setMakeBehavior( String makeBehavior )
    {
<span class="nc" id="L612">        this.makeBehavior = makeBehavior;</span>

<span class="nc" id="L614">        return this;</span>
    }

    @Override
    public MavenExecutionRequest addActiveProfile( String profile )
    {
<span class="nc bnc" id="L620" title="All 2 branches missed.">        if ( !getActiveProfiles().contains( profile ) )</span>
        {
<span class="nc" id="L622">            getActiveProfiles().add( profile );</span>
        }

<span class="nc" id="L625">        return this;</span>
    }

    @Override
    public MavenExecutionRequest addInactiveProfile( String profile )
    {
<span class="nc bnc" id="L631" title="All 2 branches missed.">        if ( !getInactiveProfiles().contains( profile ) )</span>
        {
<span class="nc" id="L633">            getInactiveProfiles().add( profile );</span>
        }

<span class="nc" id="L636">        return this;</span>
    }

    @Override
    public MavenExecutionRequest addActiveProfiles( List&lt;String&gt; profiles )
    {
<span class="nc bnc" id="L642" title="All 2 branches missed.">        for ( String profile : profiles )</span>
        {
<span class="nc" id="L644">            addActiveProfile( profile );</span>
<span class="nc" id="L645">        }</span>

<span class="nc" id="L647">        return this;</span>
    }

    @Override
    public MavenExecutionRequest addInactiveProfiles( List&lt;String&gt; profiles )
    {
<span class="nc bnc" id="L653" title="All 2 branches missed.">        for ( String profile : profiles )</span>
        {
<span class="nc" id="L655">            addInactiveProfile( profile );</span>
<span class="nc" id="L656">        }</span>

<span class="nc" id="L658">        return this;</span>
    }

    public MavenExecutionRequest setUseReactor( boolean reactorActive )
    {
<span class="nc" id="L663">        useReactor = reactorActive;</span>

<span class="nc" id="L665">        return this;</span>
    }

    public boolean useReactor()
    {
<span class="nc" id="L670">        return useReactor;</span>
    }

    /** @deprecated use {@link #setPom(File)} */
    @Deprecated
    public MavenExecutionRequest setPomFile( String pomFilename )
    {
<span class="nc bnc" id="L677" title="All 2 branches missed.">        if ( pomFilename != null )</span>
        {
<span class="nc" id="L679">            pom = new File( pomFilename );</span>
        }

<span class="nc" id="L682">        return this;</span>
    }

    @Override
    public MavenExecutionRequest setPom( File pom )
    {
<span class="fc" id="L688">        this.pom = pom;</span>

<span class="fc" id="L690">        return this;</span>
    }

    @Override
    public MavenExecutionRequest setInteractiveMode( boolean interactive )
    {
<span class="fc" id="L696">        interactiveMode = interactive;</span>

<span class="fc" id="L698">        return this;</span>
    }

    @Override
    public MavenExecutionRequest setTransferListener( TransferListener transferListener )
    {
<span class="fc" id="L704">        this.transferListener = transferListener;</span>

<span class="fc" id="L706">        return this;</span>
    }

    @Override
    public MavenExecutionRequest setLoggingLevel( int loggingLevel )
    {
<span class="fc" id="L712">        this.loggingLevel = loggingLevel;</span>

<span class="fc" id="L714">        return this;</span>
    }

    @Override
    public MavenExecutionRequest setOffline( boolean offline )
    {
<span class="fc" id="L720">        this.offline = offline;</span>

<span class="fc" id="L722">        return this;</span>
    }

    @Override
    public MavenExecutionRequest setUpdateSnapshots( boolean updateSnapshots )
    {
<span class="fc" id="L728">        this.updateSnapshots = updateSnapshots;</span>

<span class="fc" id="L730">        return this;</span>
    }

    @Override
    public MavenExecutionRequest setNoSnapshotUpdates( boolean noSnapshotUpdates )
    {
<span class="fc" id="L736">        this.noSnapshotUpdates = noSnapshotUpdates;</span>

<span class="fc" id="L738">        return this;</span>
    }

    @Override
    public MavenExecutionRequest setGlobalChecksumPolicy( String globalChecksumPolicy )
    {
<span class="fc" id="L744">        this.globalChecksumPolicy = globalChecksumPolicy;</span>

<span class="fc" id="L746">        return this;</span>
    }

    // ----------------------------------------------------------------------------
    // Settings equivalents
    // ----------------------------------------------------------------------------

    @Override
    public List&lt;Proxy&gt; getProxies()
    {
<span class="pc bpc" id="L756" title="1 of 2 branches missed.">        if ( proxies == null )</span>
        {
<span class="fc" id="L758">            proxies = new ArrayList&lt;&gt;();</span>
        }
<span class="fc" id="L760">        return proxies;</span>
    }

    @Override
    public MavenExecutionRequest setProxies( List&lt;Proxy&gt; proxies )
    {
<span class="pc bpc" id="L766" title="1 of 2 branches missed.">        if ( proxies != null )</span>
        {
<span class="fc" id="L768">            this.proxies = new ArrayList&lt;&gt;( proxies );</span>
        }
        else
        {
<span class="nc" id="L772">            this.proxies = null;</span>
        }

<span class="fc" id="L775">        return this;</span>
    }

    @Override
    public MavenExecutionRequest addProxy( Proxy proxy )
    {
<span class="nc" id="L781">        Objects.requireNonNull( proxy, &quot;proxy cannot be null&quot; );</span>

<span class="nc bnc" id="L783" title="All 2 branches missed.">        for ( Proxy p : getProxies() )</span>
        {
<span class="nc bnc" id="L785" title="All 4 branches missed.">            if ( p.getId() != null &amp;&amp; p.getId().equals( proxy.getId() ) )</span>
            {
<span class="nc" id="L787">                return this;</span>
            }
<span class="nc" id="L789">        }</span>

<span class="nc" id="L791">        getProxies().add( proxy );</span>

<span class="nc" id="L793">        return this;</span>
    }

    @Override
    public List&lt;Server&gt; getServers()
    {
<span class="pc bpc" id="L799" title="1 of 2 branches missed.">        if ( servers == null )</span>
        {
<span class="fc" id="L801">            servers = new ArrayList&lt;&gt;();</span>
        }
<span class="fc" id="L803">        return servers;</span>
    }

    @Override
    public MavenExecutionRequest setServers( List&lt;Server&gt; servers )
    {
<span class="pc bpc" id="L809" title="1 of 2 branches missed.">        if ( servers != null )</span>
        {
<span class="fc" id="L811">            this.servers = new ArrayList&lt;&gt;( servers );</span>
        }
        else
        {
<span class="nc" id="L815">            this.servers = null;</span>
        }

<span class="fc" id="L818">        return this;</span>
    }

    @Override
    public MavenExecutionRequest addServer( Server server )
    {
<span class="nc" id="L824">        Objects.requireNonNull( server, &quot;server cannot be null&quot; );</span>

<span class="nc bnc" id="L826" title="All 2 branches missed.">        for ( Server p : getServers() )</span>
        {
<span class="nc bnc" id="L828" title="All 4 branches missed.">            if ( p.getId() != null &amp;&amp; p.getId().equals( server.getId() ) )</span>
            {
<span class="nc" id="L830">                return this;</span>
            }
<span class="nc" id="L832">        }</span>

<span class="nc" id="L834">        getServers().add( server );</span>

<span class="nc" id="L836">        return this;</span>
    }

    @Override
    public List&lt;Mirror&gt; getMirrors()
    {
<span class="fc bfc" id="L842" title="All 2 branches covered.">        if ( mirrors == null )</span>
        {
<span class="fc" id="L844">            mirrors = new ArrayList&lt;&gt;();</span>
        }
<span class="fc" id="L846">        return mirrors;</span>
    }

    @Override
    public MavenExecutionRequest setMirrors( List&lt;Mirror&gt; mirrors )
    {
<span class="pc bpc" id="L852" title="1 of 2 branches missed.">        if ( mirrors != null )</span>
        {
<span class="fc" id="L854">            this.mirrors = new ArrayList&lt;&gt;( mirrors );</span>
        }
        else
        {
<span class="nc" id="L858">            this.mirrors = null;</span>
        }

<span class="fc" id="L861">        return this;</span>
    }

    @Override
    public MavenExecutionRequest addMirror( Mirror mirror )
    {
<span class="nc" id="L867">        Objects.requireNonNull( mirror, &quot;mirror cannot be null&quot; );</span>

<span class="nc bnc" id="L869" title="All 2 branches missed.">        for ( Mirror p : getMirrors() )</span>
        {
<span class="nc bnc" id="L871" title="All 4 branches missed.">            if ( p.getId() != null &amp;&amp; p.getId().equals( mirror.getId() ) )</span>
            {
<span class="nc" id="L873">                return this;</span>
            }
<span class="nc" id="L875">        }</span>

<span class="nc" id="L877">        getMirrors().add( mirror );</span>

<span class="nc" id="L879">        return this;</span>
    }

    @Override
    public List&lt;Profile&gt; getProfiles()
    {
<span class="fc bfc" id="L885" title="All 2 branches covered.">        if ( profiles == null )</span>
        {
<span class="fc" id="L887">            profiles = new ArrayList&lt;&gt;();</span>
        }
<span class="fc" id="L889">        return profiles;</span>
    }

    @Override
    public MavenExecutionRequest setProfiles( List&lt;Profile&gt; profiles )
    {
<span class="pc bpc" id="L895" title="1 of 2 branches missed.">        if ( profiles != null )</span>
        {
<span class="fc" id="L897">            this.profiles = new ArrayList&lt;&gt;( profiles );</span>
        }
        else
        {
<span class="nc" id="L901">            this.profiles = null;</span>
        }

<span class="fc" id="L904">        return this;</span>
    }

    @Override
    public List&lt;String&gt; getPluginGroups()
    {
<span class="fc bfc" id="L910" title="All 2 branches covered.">        if ( pluginGroups == null )</span>
        {
<span class="fc" id="L912">            pluginGroups = new ArrayList&lt;&gt;();</span>
        }

<span class="fc" id="L915">        return pluginGroups;</span>
    }

    @Override
    public MavenExecutionRequest setPluginGroups( List&lt;String&gt; pluginGroups )
    {
<span class="pc bpc" id="L921" title="1 of 2 branches missed.">        if ( pluginGroups != null )</span>
        {
<span class="fc" id="L923">            this.pluginGroups = new ArrayList&lt;&gt;( pluginGroups );</span>
        }
        else
        {
<span class="nc" id="L927">            this.pluginGroups = null;</span>
        }

<span class="fc" id="L930">        return this;</span>
    }

    @Override
    public MavenExecutionRequest addPluginGroup( String pluginGroup )
    {
<span class="nc bnc" id="L936" title="All 2 branches missed.">        if ( !getPluginGroups().contains( pluginGroup ) )</span>
        {
<span class="nc" id="L938">            getPluginGroups().add( pluginGroup );</span>
        }

<span class="nc" id="L941">        return this;</span>
    }

    @Override
    public MavenExecutionRequest addPluginGroups( List&lt;String&gt; pluginGroups )
    {
<span class="nc bnc" id="L947" title="All 2 branches missed.">        for ( String pluginGroup : pluginGroups )</span>
        {
<span class="nc" id="L949">            addPluginGroup( pluginGroup );</span>
<span class="nc" id="L950">        }</span>

<span class="nc" id="L952">        return this;</span>
    }

    @Override
    public MavenExecutionRequest setRecursive( boolean recursive )
    {
<span class="fc" id="L958">        this.recursive = recursive;</span>

<span class="fc" id="L960">        return this;</span>
    }

    // calculated from request attributes.
    private ProjectBuildingRequest projectBuildingRequest;

    @Override
    public boolean isProjectPresent()
    {
<span class="fc" id="L969">        return isProjectPresent;</span>
    }

    @Override
    public MavenExecutionRequest setProjectPresent( boolean projectPresent )
    {
<span class="fc" id="L975">        isProjectPresent = projectPresent;</span>

<span class="fc" id="L977">        return this;</span>
    }

    // Settings files

    @Override
    public File getUserSettingsFile()
    {
<span class="fc" id="L985">        return userSettingsFile;</span>
    }

    @Override
    public MavenExecutionRequest setUserSettingsFile( File userSettingsFile )
    {
<span class="fc" id="L991">        this.userSettingsFile = userSettingsFile;</span>

<span class="fc" id="L993">        return this;</span>
    }

    @Override
    public File getGlobalSettingsFile()
    {
<span class="fc" id="L999">        return globalSettingsFile;</span>
    }

    @Override
    public MavenExecutionRequest setGlobalSettingsFile( File globalSettingsFile )
    {
<span class="fc" id="L1005">        this.globalSettingsFile = globalSettingsFile;</span>

<span class="fc" id="L1007">        return this;</span>
    }

    @Override
    public File getUserToolchainsFile()
    {
<span class="fc" id="L1013">        return userToolchainsFile;</span>
    }

    @Override
    public MavenExecutionRequest setUserToolchainsFile( File userToolchainsFile )
    {
<span class="fc" id="L1019">        this.userToolchainsFile = userToolchainsFile;</span>

<span class="fc" id="L1021">        return this;</span>
    }

    @Override
    public File getGlobalToolchainsFile()
    {
<span class="fc" id="L1027">        return globalToolchainsFile;</span>
    }

    @Override
    public MavenExecutionRequest setGlobalToolchainsFile( File globalToolchainsFile )
    {
<span class="fc" id="L1033">        this.globalToolchainsFile = globalToolchainsFile;</span>
<span class="fc" id="L1034">        return this;</span>
    }

    @Override
    public MavenExecutionRequest addRemoteRepository( ArtifactRepository repository )
    {
<span class="nc bnc" id="L1040" title="All 2 branches missed.">        for ( ArtifactRepository repo : getRemoteRepositories() )</span>
        {
<span class="nc bnc" id="L1042" title="All 4 branches missed.">            if ( repo.getId() != null &amp;&amp; repo.getId().equals( repository.getId() ) )</span>
            {
<span class="nc" id="L1044">                return this;</span>
            }
<span class="nc" id="L1046">        }</span>

<span class="nc" id="L1048">        getRemoteRepositories().add( repository );</span>

<span class="nc" id="L1050">        return this;</span>
    }

    @Override
    public List&lt;ArtifactRepository&gt; getRemoteRepositories()
    {
<span class="fc bfc" id="L1056" title="All 2 branches covered.">        if ( remoteRepositories == null )</span>
        {
<span class="fc" id="L1058">            remoteRepositories = new ArrayList&lt;&gt;();</span>
        }
<span class="fc" id="L1060">        return remoteRepositories;</span>
    }

    @Override
    public MavenExecutionRequest addPluginArtifactRepository( ArtifactRepository repository )
    {
<span class="pc bpc" id="L1066" title="1 of 2 branches missed.">        for ( ArtifactRepository repo : getPluginArtifactRepositories() )</span>
        {
<span class="nc bnc" id="L1068" title="All 4 branches missed.">            if ( repo.getId() != null &amp;&amp; repo.getId().equals( repository.getId() ) )</span>
            {
<span class="nc" id="L1070">                return this;</span>
            }
<span class="nc" id="L1072">        }</span>

<span class="fc" id="L1074">        getPluginArtifactRepositories().add( repository );</span>

<span class="fc" id="L1076">        return this;</span>
    }

    @Override
    public List&lt;ArtifactRepository&gt; getPluginArtifactRepositories()
    {
<span class="fc bfc" id="L1082" title="All 2 branches covered.">        if ( pluginArtifactRepositories == null )</span>
        {
<span class="fc" id="L1084">            pluginArtifactRepositories = new ArrayList&lt;&gt;();</span>
        }
<span class="fc" id="L1086">        return pluginArtifactRepositories;</span>
    }

    // TODO this does not belong here.
    @Override
    public ProjectBuildingRequest getProjectBuildingRequest()
    {
<span class="fc bfc" id="L1093" title="All 2 branches covered.">        if ( projectBuildingRequest == null )</span>
        {
<span class="fc" id="L1095">            projectBuildingRequest = new DefaultProjectBuildingRequest();</span>
<span class="fc" id="L1096">            projectBuildingRequest.setLocalRepository( getLocalRepository() );</span>
<span class="fc" id="L1097">            projectBuildingRequest.setSystemProperties( getSystemProperties() );</span>
<span class="fc" id="L1098">            projectBuildingRequest.setUserProperties( getUserProperties() );</span>
<span class="fc" id="L1099">            projectBuildingRequest.setRemoteRepositories( getRemoteRepositories() );</span>
<span class="fc" id="L1100">            projectBuildingRequest.setPluginArtifactRepositories( getPluginArtifactRepositories() );</span>
<span class="fc" id="L1101">            projectBuildingRequest.setActiveProfileIds( getActiveProfiles() );</span>
<span class="fc" id="L1102">            projectBuildingRequest.setInactiveProfileIds( getInactiveProfiles() );</span>
<span class="fc" id="L1103">            projectBuildingRequest.setProfiles( getProfiles() );</span>
<span class="fc" id="L1104">            projectBuildingRequest.setProcessPlugins( true );</span>
<span class="fc" id="L1105">            projectBuildingRequest.setBuildStartTime( getStartTime() );</span>
        }

<span class="fc" id="L1108">        return projectBuildingRequest;</span>
    }

    @Override
    public MavenExecutionRequest addProfile( Profile profile )
    {
<span class="fc" id="L1114">        Objects.requireNonNull( profile, &quot;profile cannot be null&quot; );</span>

<span class="pc bpc" id="L1116" title="1 of 2 branches missed.">        for ( Profile p : getProfiles() )</span>
        {
<span class="nc bnc" id="L1118" title="All 4 branches missed.">            if ( p.getId() != null &amp;&amp; p.getId().equals( profile.getId() ) )</span>
            {
<span class="nc" id="L1120">                return this;</span>
            }
<span class="nc" id="L1122">        }</span>

<span class="fc" id="L1124">        getProfiles().add( profile );</span>

<span class="fc" id="L1126">        return this;</span>
    }

    @Override
    public RepositoryCache getRepositoryCache()
    {
<span class="fc" id="L1132">        return repositoryCache;</span>
    }

    @Override
    public MavenExecutionRequest setRepositoryCache( RepositoryCache repositoryCache )
    {
<span class="fc" id="L1138">        this.repositoryCache = repositoryCache;</span>

<span class="fc" id="L1140">        return this;</span>
    }

    @Override
    public ExecutionListener getExecutionListener()
    {
<span class="fc" id="L1146">        return executionListener;</span>
    }

    @Override
    public MavenExecutionRequest setExecutionListener( ExecutionListener executionListener )
    {
<span class="fc" id="L1152">        this.executionListener = executionListener;</span>

<span class="fc" id="L1154">        return this;</span>
    }

    @Override
    public void setDegreeOfConcurrency( final int degreeOfConcurrency )
    {
<span class="fc" id="L1160">        this.degreeOfConcurrency = degreeOfConcurrency;</span>
<span class="fc" id="L1161">    }</span>

    @Override
    public int getDegreeOfConcurrency()
    {
<span class="fc" id="L1166">        return degreeOfConcurrency;</span>
    }

    @Override
    public WorkspaceReader getWorkspaceReader()
    {
<span class="fc" id="L1172">        return workspaceReader;</span>
    }

    @Override
    public MavenExecutionRequest setWorkspaceReader( WorkspaceReader workspaceReader )
    {
<span class="fc" id="L1178">        this.workspaceReader = workspaceReader;</span>
<span class="fc" id="L1179">        return this;</span>
    }

    @Override
    public boolean isCacheTransferError()
    {
<span class="fc" id="L1185">        return cacheTransferError;</span>
    }

    @Override
    public MavenExecutionRequest setCacheTransferError( boolean cacheTransferError )
    {
<span class="fc" id="L1191">        this.cacheTransferError = cacheTransferError;</span>
<span class="fc" id="L1192">        return this;</span>
    }

    @Override
    public boolean isCacheNotFound()
    {
<span class="fc" id="L1198">        return cacheNotFound;</span>
    }

    @Override
    public MavenExecutionRequest setCacheNotFound( boolean cacheNotFound )
    {
<span class="fc" id="L1204">        this.cacheNotFound = cacheNotFound;</span>
<span class="fc" id="L1205">        return this;</span>
    }

    @Override
    public boolean isUseLegacyLocalRepository()
    {
<span class="fc" id="L1211">        return this.useLegacyLocalRepositoryManager;</span>
    }

    @Override
    public MavenExecutionRequest setUseLegacyLocalRepository( boolean useLegacyLocalRepositoryManager )
    {
<span class="fc" id="L1217">        this.useLegacyLocalRepositoryManager = useLegacyLocalRepositoryManager;</span>
<span class="fc" id="L1218">        return this;</span>
    }

    @Override
    public MavenExecutionRequest setBuilderId( String builderId )
    {
<span class="fc" id="L1224">        this.builderId = builderId;</span>
<span class="fc" id="L1225">        return this;</span>
    }

    @Override
    public String getBuilderId()
    {
<span class="fc" id="L1231">        return builderId;</span>
    }

    @Override
    public Map&lt;String, List&lt;ToolchainModel&gt;&gt; getToolchains()
    {
<span class="nc bnc" id="L1237" title="All 2 branches missed.">        if ( toolchains == null )</span>
        {
<span class="nc" id="L1239">            toolchains = new HashMap&lt;&gt;();</span>
        }
<span class="nc" id="L1241">        return toolchains;</span>
    }

    @Override
    public MavenExecutionRequest setToolchains( Map&lt;String, List&lt;ToolchainModel&gt;&gt; toolchains )
    {
<span class="nc" id="L1247">        this.toolchains = toolchains;</span>
<span class="nc" id="L1248">        return this;</span>
    }

    @Override
    public void setMultiModuleProjectDirectory( File directory )
    {
<span class="nc" id="L1254">        this.multiModuleProjectDirectory = directory;</span>
<span class="nc" id="L1255">    }</span>

    @Override
    public File getMultiModuleProjectDirectory()
    {
<span class="nc" id="L1260">        return multiModuleProjectDirectory;</span>
    }

    @Override
    public MavenExecutionRequest setEventSpyDispatcher( EventSpyDispatcher eventSpyDispatcher )
    {
<span class="nc" id="L1266">        this.eventSpyDispatcher = eventSpyDispatcher;</span>
<span class="nc" id="L1267">        return this;</span>
    }

    @Override
    public EventSpyDispatcher getEventSpyDispatcher()
    {
<span class="nc" id="L1273">        return eventSpyDispatcher;</span>
    }

    @Override
    public Map&lt;String, Object&gt; getData()
    {
<span class="nc bnc" id="L1279" title="All 2 branches missed.">        if ( data == null )</span>
        {
<span class="nc" id="L1281">            data = new HashMap&lt;&gt;();</span>
        }

<span class="nc" id="L1284">        return data;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span></div></body></html>